!function(t){try{t=angular.module("stamp")}catch(n){t=angular.module("stamp",[])}t.run(["$templateCache",function(t){t.put("src/angular/templates/addComponentModal.html",'<div class="stamp-modal stamp-modal-add-component modal-content">\n  <div class="modal-header">\n    <button type="button" class="close" aria-label="Close" data-ng-click="close()"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title">Add Component</h4>\n  </div>\n  <div class="modal-body">\n    <div class="component-list">\n      <div class="component-list-item" data-ng-if="value" data-ng-class="{\'no-icon\' : !value.icon}" data-ng-repeat="(key, value) in components" data-ng-click="insert(key)">\n        <i class="{{value.icon}}" data-ng-if="value.icon"></i>\n        <span>{{value.label}}</span>\n      </div>\n    </div>\n  </div>\n</div>')}])}(),function(t){if(t.htmlMapper=function(t,n,e){function o(n,o){Object.keys(t.stampBlockControls).forEach(function(a,l){var c=t.stampBlockControls[a];void 0!==c.preRender&&(n=c.preRender.call(e,n,o))});var l=a(n,o);return Object.keys(t.stampBlockControls).forEach(function(n,a){var c=t.stampBlockControls[n];void 0!==c.postRender&&(l=c.postRender.call(e,l,o))}),l}function a(n,e){if(!n)return"";var o=n.attributes&&n.attributes.layout?n.attributes.layout:"oneColumn",a=t.stampLayouts[o],c="";if(!a){if("oneColumn"===o)return console.log("Warning! Missing layout config and fallback oneColumn layout. Exiting."),c;console.log("Warning! Missing layout config, reverting to oneColumn"),o="oneColumn",a=t.stampLayouts.oneColumn}return c+="<div>",n.columns.forEach(function(t,n){if(void 0!==a.maxColumns&&n+1>a.maxColumns)return void console.log("Warning! Data exceeds maxColumns for this layout, Omitting extra columns.");var o=l(t,n,a,e);o&&(c+=o)}),c+="</div>"}function l(t,n,e){var o='<div class="';return o+=s(n,e),o+='">',t.components.forEach(function(t,n){var a=c(t,n,e);a&&(o+=a)}),o+="</div>"}function c(n,o,a){var l="";return Object.keys(t.stampComponentControls).forEach(function(a,l){var c=t.stampComponentControls[a];void 0!==c.preRender&&(n=c.preRender.call(e,n,o))}),l=i(n,o,a),Object.keys(t.stampComponentControls).forEach(function(n,a){var c=t.stampComponentControls[n];void 0!==c.postRender&&(l=c.postRender.call(e,l,o))}),l}function i(n,o,a){if(!n)return"";var l=t.stampComponents[n.type];return l?l.toHTML?l.toHTML.call(e,n,a):(console.log("Warning! Component is missing a toHTML function: "+n.type),""):(console.log("Warning! Missing component: "+n.type),"")}function s(t,n){var e="";if(void 0===n.columnStyles)e+="col-md-12";else if("string"==typeof n.columnStyles)e+="col-"+n.columnStyles;else for(var o in n.columnStyles)if(n.columnStyles.hasOwnProperty(o)){var a=n.columnStyles[o];if(Array.isArray(a)){var l=t>a.length-1?a.length-1:t;e+="col-"+o+"-"+a[l]}else e+="col-"+o+"-"+a;e+=" "}return e}var r="";return e=e||{},n&&n.blocks?(n.blocks.forEach(function(t,n){r+=o(t,n)}),r):r},angular){var n=angular.module("stamp.mappers",[]);n.factory("StampHTML",["stampLayouts","stampComponents","stampComponentControls","stampBlockControls",function(n,e,o,a){function l(n,e){try{return t.htmlMapper(c,n,e||{})}catch(o){console.log("Warning! Failed to export Stamp JSON to HTML",o)}}var c={stampLayouts:n,stampBlockControls:a,stampComponents:e,stampComponentControls:o};return{generate:function(t,n){return l(t,n)}}}])}}("undefined"==typeof exports?window._stampMappers={}:exports),function(t){try{t=angular.module("stamp")}catch(n){t=angular.module("stamp",[])}t.run(["$templateCache",function(t){t.put("src/angular/templates/block.html",'<div class="block-header clearfix">\n    <span class="pull-right">\n      <span class="block-controls"><!-- Dynamically inserts block controls --></span>\n    </span>\n</div>\n<div class="alert alert-danger" data-ng-if="layout.maxColumns && layout.maxColumns < data.columns.length">This layout has a column limit of {{layout.maxColumns}}, the column count is {{data.columns.length}}, switch to a {{data.columns.length}} column layout <button class="btn btn-default" data-ng-click="mergeColumns()">Auto Merge</button></div>\n<div class="alert alert-danger" data-ng-if="!layout.maxColumns">No Layout Set</div>\n<div class="block-body" data-ng-if="layout.maxColumns">\n  <div data-ng-class="getColumnClasses($index)" data-ng-repeat="column in data.columns | limitTo:layout.maxColumns">\n    <div class="stamp-component-wrapper component-{{$index}}" data-ng-repeat="component in column.components track by $index">\n      <stamp-component data="component" col-index="$parent.$index" com-index="$index" com-count="column.components.length" col-count="data.columns.length"></stamp-component>\n    </div>\n    <div data-ng-if="!parent.locked && !parent.readOnly">\n      <input class="btn btn-warning btn-lg btn-block" type="button" value="Remove Column" data-ng-if="column.components.length == 0" data-ng-click="removeColumn($index)">\n      <input class="btn btn-default btn-lg btn-block" type="button" value="+ Component" data-ng-click="addComponent($parent.$index)">\n    </div>\n  </div>\n  <!-- enable this instead of the below option when you\'ve added the ability to add no middle column if 3 are missing on a 3 col layout <div ng-if="emptyColumnCount().length > 0" ng-class="getColumnClasses($index, true)" ng-repeat="emptyColumn in emptyColumnCount() track by $index">\n    <div ng-if="!parent.locked && !parent.readOnly"><input class="btn btn-default btn-lg btn-block" type="button" ng-click="addColumn($index)" value="+ Column"></input></div>\n  </div>-->\n  <div data-ng-if="!parent.locked && !parent.readOnly && emptyColumnCount().length > 0" data-ng-class="getColumnClasses(0, true)">\n    <input class="btn-block btn btn-default btn-lg" type="button" value="+ Column" data-ng-click="addColumn()">\n  </div>\n</div>')}])}(),function(){function t(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var n=angular.module("stamp",["stamp.mappers","stampSetup","ui.bootstrap"]);n.directive("stampEditor",["$rootScope","$compile","$timeout","$window","stampOptions",function(t,n,e,o,a){var l=0,c="ui-stamp-editor-";return{require:"ngModel",templateUrl:"../src/angular/templates/editor.html",link:function(t,n,e,o){function i(){t.locked=e.locked}function s(){t.readOnly=e.readOnly}var r={},u={};t.json={},e.$set("id",c+l++),console.log("Stamp directive given ID: "+c+l),angular.extend(u,t.$eval(e.stampOptions)),angular.extend(r,a||{},u),t.attributes=angular.extend({locked:!1,readOnly:!1},{locked:!!e.locked,readOnly:!!e.readOnly},r),e.$observe("locked",i),e.$observe("readOnly",s),e.ngModel?t.$watch(function(){return JSON.stringify(o.$modelValue)},function(n,e){t.json=o.$modelValue}):console.log("Warning: missing ng-model definition on stamp editor"),t.addBlock=function(n){t.json.blocks.splice(void 0!==n?n:t.json.blocks.length,0,{attributes:{layout:"oneColumn"},columns:[{components:[{type:"text",data:{}}]}]})}},controller:["$scope",function(t){this.getAttributes=function(){return t.attributes},this.removeBlock=function(n){t.json.blocks.splice(n,1)},this.moveBlock=function(n,e){var o=t.json.blocks.splice(n,1);t.json.blocks.splice(e,0,o[0])}}]}}]),n.directive("stampAutoHeight",function(t){return{restrict:"A",link:function(n,e){var o=function(){var t=e[0].scrollHeight;25>t?e[0].style.height="25px":(t+=10,e[0].style.height=t+"px")};n.$on("layoutChanged",function(){e[0].style.height="auto",t(o,10)}),t(o,0)}}}),n.directive("stampBlock",["stampLayouts","$uibModal","$timeout","$compile","stampBlockControls",function(n,e,o,a,l){return{restrict:"E",require:"^stampEditor",templateUrl:"../src/angular/templates/block.html",scope:{data:"=",blockIndex:"=",blockCount:"="},link:function(e,o,c,i){function s(t,o){return e.layout=n[o],e.blockError=!1,e.layout?(void 0!==e.layout.maxColumns&&e.layout.maxColumns<e.data.columns.length&&(e.blockError="This layout has a column limit of "+e.layout.maxColumns+", the column count is "+e.data.columns.length),void e.$broadcast("layoutChanged",e.data.attributes.layout)):void(e.blockError="Stamp markup requires missing layout: "+o)}function r(n){var e=t(n);return"<"+e+"></"+e+">"}e.layouts=n,e.$watch("data.attributes.layout",function(t,n){n!==t&&s(n,t)}),e.data.attributes=e.data.attributes||{},e.data.attributes.layout=e.data.attributes.layout||"oneColumn",s(void 0,e.data.attributes.layout);var u="",d=i.getAttributes(),m=d&&d.blockControlLayout?d.blockControlLayout:Object.keys(l);m.forEach(function(t){var n=l[t];n&&n.directive&&(u+=r(n.directive))});var p=angular.element(o[0].getElementsByClassName("block-controls")[0]);p.empty(),p.append(a(angular.element(u))(e)),e.getColumnClasses=function(t,n){n&&(t+=e.data.columns.length-1);var o="stack-column column-"+t+" ";if(void 0===e.layout.columnStyles)o+="col-md-12";else if(angular.isObject(e.layout.columnStyles)){for(var a in e.layout.columnStyles)if(e.layout.columnStyles.hasOwnProperty(a)){var l=e.layout.columnStyles[a];if(Array.isArray(l)){var c=t>l.length-1?l.length-1:t;o+="col-"+a+"-"+l[c]}else o+="col-"+a+"-"+l;o+=" "}}else o+="col-"+e.layout.columnStyles;return o},e.moveUp=function(){i.moveBlock(e.blockIndex,e.blockIndex-1)},e.moveDown=function(){i.moveBlock(e.blockIndex,e.blockIndex+1)},e.remove=function(){i.removeBlock(e.blockIndex)},e.mergeColumns=function(){for(;e.data.columns.length>(e.data.attributes.maxColumns||1);){var t=e.data.columns.pop();e.data.columns[0].components=e.data.columns[0].components.concat(t.components)}},e.changeLayout=function(t){e.data.attributes.layout=t},e.emptyColumnCount=function(){if(!e.layout.maxColumns)return new Array(0);var t=e.layout.maxColumns-e.data.columns.length;return new Array(t>-1?t:0)},e.addColumn=function(){e.data.columns.push({components:[]})},e.removeColumn=function(t){e.data.columns.splice(t,1)}},controller:["$scope",function(t){this.removeComponent=function(n,e){t.data.columns[n].components.splice(e,1)},this.moveComponent=function(n,e,o,a){var l=t.data.columns[n].components,c=l.splice(o,1);(void 0===a||a>t.data.columns[e].components.length)&&(a=t.data.columns[e].components.length),t.data.columns[e].components.splice(a,0,c[0])},t.addComponent=this.addComponent=function(n,a,l){if(l)t.data.columns[n].components.splice(a||t.data.columns[n].components.length,0,{type:l.type,data:l.data||{}}),o(function(){t.$broadcast("componentFocus",n,a)},0);else{var c=e.open({templateUrl:"../src/angular/templates/addComponentModal.html",controller:"StampAddComponentModalInstanceCtrl"});c.result.then(function(e){t.data.columns[n].components.splice(a||t.data.columns[n].components.length,0,{type:e.type,data:e.data||{}}),t.$broadcast("componentFocus",n,a)})}}}]}}]),n.controller("StampAddComponentModalInstanceCtrl",["$scope","$uibModalInstance","stampComponents",function(t,n,e){t.components=e,t.insert=function(t){n.close({type:t})},t.close=function(){n.dismiss()}}]),n.directive("stampComponent",["$compile","stampComponents","stampComponentControls",function(n,e,o){return{restrict:"E",require:["^stampBlock","^stampEditor"],templateUrl:"../src/angular/templates/component.html",scope:{data:"=",index:"=",colIndex:"=",colCount:"=",comIndex:"=",comCount:"="},link:function(a,l,c,i){function s(){var c=e[a.data.type];if(!c)return void(a.componentError="No component registered for type: "+a.data.type);var i=t(c.directive),s="<"+i+' data="data.data"></'+i+">",r="",d=u.getAttributes(),m=d&&d.componentControlLayout?d.componentControlLayout:Object.keys(o);m.forEach(function(n){var e=o[n];if(e&&e.directive){var a=t(e.directive);r+="<"+a+"></"+a+">"}});var p='<div class="component-header">                         <p class="pull-right">'+r+'                         </p>                       </div>                       <div ng-if="componentError" class="alert alert-danger">{{componentError}}<br><br>Component Data:<pre>{{data | json}}</pre></div>                       <div class="component-body">'+s+"</div>";l.empty(),l.append(n(angular.element(p))(a))}var r=i[0],u=i[1];return a.data&&a.data.type?(a.$watch("data.type",function(t,n){t!==n&&s()}),s(),a.addComponent=r.addComponent,a.remove=function(){r.removeComponent(a.colIndex,a.comIndex)},a.moveUp=function(){r.moveComponent(a.colIndex,a.colIndex,a.comIndex,a.comIndex-1)},a.moveDown=function(){r.moveComponent(a.colIndex,a.colIndex,a.comIndex,a.comIndex+1)},a.moveLeft=function(){r.moveComponent(a.colIndex,a.colIndex-1,a.comIndex,a.comIndex)},void(a.moveRight=function(){r.moveComponent(a.colIndex,a.colIndex+1,a.comIndex,a.comIndex)})):void(a.componentError="Missing required component data")}}}])}(),function(t){try{t=angular.module("stamp")}catch(n){t=angular.module("stamp",[])}t.run(["$templateCache",function(t){t.put("src/angular/templates/component.html",'<div class="component-wrap">\n  <!-- Dynamically created in stamp.js component directive -->\n</div>')}])}();var stampAngularModule=angular.module("stampSetup",[]),stampSetupData={},stampRegisterFunctions={};["Components","Layouts","ComponentControls","BlockControls"].forEach(function(t){stampSetupData[t]={},stampRegisterFunctions[t]=function(t){return function(n,e){if(!n||""===n)throw new Error("Stamp Error: A unique name is required for a "+t+" definition");stampSetupData[t][n]=e}}(t),stampAngularModule.value("stamp"+t,stampSetupData[t])}),stampAngularModule.constant("stampRegister",{component:stampRegisterFunctions.Components,componentControl:stampRegisterFunctions.ComponentControls,layout:stampRegisterFunctions.Layouts,blockControl:stampRegisterFunctions.BlockControls}).value("stampOptions",{componentControlLayout:["moveComponentArrows","removeComponent"],blockControlLayout:["layoutControl","moveBlockArrows","removeBlock"]}).value("stampTranslations",{}).run(["stampRegister","$window","stampTranslations",function(t,n,e){t.layout("oneColumn",{label:"One Column",maxColumns:1,columnStyles:{md:12}}),t.layout("twoColumn",{label:"Two Even Columns",maxColumns:2,columnStyles:{md:6,sm:12}}),t.layout("threeColumn",{label:"Three Columns",maxColumns:3,columnStyles:{md:4,sm:12}}),t.component("text",{directive:"stampTextComponent",label:"Text",icon:"fa fa-paragraph",toHTML:function(t,n){return"<p>"+t.data.value+"</p>"}}),t.component("title",{directive:"stampHeadingComponent",label:"Title",icon:"fa fa-header",toHTML:function(t,n){return"<h"+t.data.size+">"+t.data.value+"</h"+t.data.size+">"}}),t.component("image",{icon:"fa fa-picture-o",label:"Image",directive:"stampImageComponent",toHTML:function(t,n){function e(){var n="figure ";switch(t.data["float"]){case"left":n+="pull-left ";break;case"center":n+="center-block ";break;case"right":n+="pull-right "}return null!==t.data.percentageWidth&&void 0!==t.data.percentageWidth&&(n+="width-"+t.data.percentageWidth),n}var o="";return o+='<figure class="'+e()+'" style="display: table;">',o+='<img src="'+t.data.url+'" class="img-responsive figure-img" style="width:100%" alt="'+(t.data.alt||"")+'">',t.data.figureCaption&&t.data.figureCaption.length&&(o+='<figcaption class="figure-caption text-center" style="display: table-caption; caption-side: bottom;">'+t.data.figureCaption+"</figcaption>"),o+="</figure>"}}),t.component("table",{icon:"fa fa-table",label:"Table",directive:"stampTableComponent",toHTML:function(t,n){var e='<table class="table">';return t.data.dataset.forEach(function(t,n){e+="<tr>",t.forEach(function(t,n){e+="<"+t.type+">"+t.value+"</"+t.type+">"}),e+="</tr>"}),e+="</table>"}}),t.componentControl("moveComponentArrows",{directive:"stampMoveComponentControls"}),t.blockControl("moveBlockArrows",{directive:"stampMoveBlockControls"}),t.componentControl("removeComponent",{directive:"stampRemoveControl"}),t.blockControl("removeBlock",{directive:"stampRemoveControl"}),t.blockControl("layoutControl",{directive:"stampChangeLayoutControl"})}]).directive("stampRemoveControl",[function(){return{restrict:"E",scope:!1,template:'<button type="button" class="btn btn-default btn-xs" ng-click="remove()" aria-label="remove"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>'}}]).directive("stampChangeLayoutControl",[function(){return{restrict:"E",scope:!1,template:'<span uib-dropdown>        <a href id="simple-dropdown" uib-dropdown-toggle class="btn btn-xs btn-default">Layout: {{layouts[data.attributes.layout].label}}</a>        <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">          <li ng-repeat="(key, value) in layouts" ng-if="value">            <a ng-click="changeLayout(key)">{{value.label}}</a>          </li>        </ul>      </span>'}}]).directive("stampMoveComponentControls",[function(){return{restrict:"E",scope:!1,template:'<div class="btn-group" role="group" aria-label="...">                  <button type="button" class="btn btn-default btn-xs" ng-if="colIndex !== 0" ng-click="moveLeft()">&#9668;</button>                  <button type="button" class="btn btn-default btn-xs" ng-if="comIndex !== 0" ng-click="moveUp()">&#9650;</button>                  <button type="button" class="btn btn-default btn-xs" ng-if="comIndex !== comCount - 1" ng-click="moveDown()">&#9660;</button>                  <button type="button" class="btn btn-default btn-xs" ng-if="colIndex + 1 < colCount" ng-click="moveRight()">&#9658;</button>                </div>'}}]).directive("stampMoveBlockControls",[function(){return{restrict:"E",scope:!1,template:'<div class="btn-group" role="group" aria-label="...">                  <button type="button" class="btn btn-default btn-xs" ng-if="blockIndex !== 0" ng-click="moveUp()">&#9650;</button>                  <button type="button" class="btn btn-default btn-xs" ng-if="blockIndex !== blockCount - 1" ng-click="moveDown()">&#9660;</button>                </div>'}}]).directive("stampEnterHandle",[function(){return{restrict:"AC",scope:!1,link:function(t,n,e){t.type||(t.type="text"),n.bind("keydown keypress",function(n){13===n.which&&(t.$apply(function(){t.$parent.addComponent(t.$parent.colIndex,t.$parent.comIndex+1,{type:t.type})}),n.preventDefault())})}}}]).directive("stampTextComponent",[function(){return{restrict:"E",template:'<textarea stamp-auto-height stamp-enter-handle placeholder="Enter Text.." class="form-control" ng-model="data.value"></textarea>',scope:{data:"="},link:function(t,n,e){t.$on("$destroy",t.$on("componentFocus",function(e,o,a){o===t.$parent.colIndex,a===t.$parent.comIndex&&n[0].children[0].focus()}))}}}]).directive("stampHeadingComponent",[function(){return{restrict:"E",template:'<div class="input-group size-h{{data.size || 1}}">                <input type="text" stamp-enter-handle placeholder="Enter Heading Text.." class="form-control" ng-model="data.value">                <div class="input-group-btn" uib-dropdown>                  <button type="button" class="btn btn-default" uib-dropdown-toggle>{{"H" + data.size}} <span class="caret"></span></button>                  <ul class="dropdown-menu" uib-dropdown-menu>                    <li ng-repeat="size in [1, 2, 3]"><a ng-click="data.size = size">{{"H" + size}}</a></li>                  </ul>                </div>              </div>',scope:{data:"="},link:function(t){void 0===t.data.size&&(t.data.size=1)}}}]).directive("stampImageComponent",[function(){return{restrict:"E",template:'<div ng-class="{\'edit-mode\':editing}" style="position: relative;">                <div ng-show="editing" class="edit-overlay">                  <button class="btn btn-default pull-right" ng-click="toggleEdit()">Close</button>                  <h4>URL</h4>                  <input class="form-control" type="text" ng-model="data.url">                  <h4>Alt</h4>                  <input class="form-control" type="text" ng-model="data.alt">                  <h4>Float</h4>                  <div class="btn-group">                    <label class="btn btn-default" ng-model="data.float" uib-btn-radio="\'left\'">Left</label>                    <label class="btn btn-default" ng-model="data.float" uib-btn-radio="\'center\'">Center</label>                    <label class="btn btn-default" ng-model="data.float" uib-btn-radio="\'right\'">Right</label>                    <label class="btn btn-primary" ng-click="data.float = null">Clear</label>                  </div>                  <h4>Size</h4>                  <div class="btn-group">                    <label class="btn btn-default" ng-model="data.percentageWidth" uib-btn-radio="\'25\'">25%</label>                    <label class="btn btn-default" ng-model="data.percentageWidth" uib-btn-radio="\'50\'">50%</label>                    <label class="btn btn-default" ng-model="data.percentageWidth" uib-btn-radio="\'75\'">75%</label>                    <label class="btn btn-default" ng-model="data.percentageWidth" uib-btn-radio="\'100\'">100%</label>                    <label class="btn btn-primary" ng-click="data.percentageWidth = null">Clear</label>                  </div>                  <h4>Caption</h4>                  <input class="form-control" type="text" ng-model="data.figureCaption">                </div>                <button class="btn btn-transparent pull-right" style="position:absolute;right:8px;top:8px;" ng-hide="editing" ng-click="toggleEdit()">Edit</button>                <figure ng-class="getClasses()" style="display: table;">                  <img ng-src="{{data.url}}" alt="{{data.alt || \'\'}}" class="img-responsive figure-img" style="width:100%;">                  <figcaption ng-if="data.figureCaption" class="figure-caption text-center" style="display: table-caption; caption-side: bottom;">{{data.figureCaption}}</figcaption>                </figure>              </div>',scope:{data:"="},link:function(t,n,e){t.editing=!1,t.clearAll=function(){t.data.percentageWidth=null,t.data["float"]=null},t.toggleEdit=function(){t.editing=!t.editing},t.getClasses=function(){var n="figure ";switch(t.data["float"]){case"left":n+="pull-left ";break;case"center":n+="center-block ";break;case"right":n+="pull-right "}return null!==t.data.percentageWidth&&void 0!==t.data.percentageWidth&&(n+="width-"+t.data.percentageWidth),n}}}}]).directive("stampTableComponent",[function(){return{restrict:"E",template:'<div>                <table class="table">                  <tr ng-repeat="row in data.dataset">                    <th ng-if="cell.type == \'th\'" ng-repeat-start="cell in row"><input type="text" class="form-control" ng-model="cell.value" ng-click="select($parent.$parent.$index, $parent.$index)"></input></th>                    <td ng-if="cell.type == \'td\'" ng-repeat-end><input type="text" class="form-control" ng-model="cell.value" ng-click="select($parent.$parent.$index, $parent.$index)"></input></td>                  </tr>                </table>               </div>               <div ng-if="selectedCell">                <h4>Selection Actions</h4>                <button class="btn btn-default" ng-click="addRow(selectedCell.rowIndex)">+ Row Above</button>                <button class="btn btn-default" ng-click="addRow(selectedCell.rowIndex + 1)">+ Row Below</button>                <button class="btn btn-default" ng-click="addColumn(selectedCell.columnIndex)">+ Column Before</button>                <button class="btn btn-default" ng-click="addColumn(selectedCell.columnIndex + 1)">+ Column After</button>                <button class="btn btn-default" ng-click="removeRow(selectedCell.rowIndex)">Remove Row</button>                <button class="btn btn-default" ng-click="removeColumn(selectedCell.columnIndex)">Remove Column</button>                <button class="btn btn-warning" ng-click="cancelSelection()">Close</button>               </div>',scope:{data:"="},link:function(t,n,e){t.cancelSelection=function(){t.selectedCell=!1},t.select=function(n,e){t.selectedCell={rowIndex:n,columnIndex:e}},t.selectedCell=!1,t.data.dataset||(t.data.dataset=[[{type:"th",value:"Header 1"},{type:"th",value:"Header 2"},{type:"th",value:"Header 3"}],[{type:"td",value:"Value 1"},{type:"td",value:"Value 2"},{type:"td",value:"Value 3"}]]),t.addRow=function(n){for(var e=t.data.dataset[0].length,o=[],a=0,l=e;l>a;a++)o.push({type:"td",value:""});t.data.dataset.splice(void 0===n?t.data.dataset.length:n,0,o),t.cancelSelection()},t.removeRow=function(n){t.data.dataset.splice(n,1),t.cancelSelection()},t.addColumn=function(n){for(var e=t.data.dataset,o=0,a=e.length;a>o;o++){var l={type:e[o][0].type,value:""};e[o].splice(e[o].length>n?n:e[o].length,0,l)}t.cancelSelection()},t.removeColumn=function(n){for(var e=t.data.dataset,o=0,a=e.length;a>o;o++)e[o].length>=n&&e[o].splice(n,1);t.cancelSelection()}}}}]),function(t){try{t=angular.module("stamp")}catch(n){t=angular.module("stamp",[])}t.run(["$templateCache",function(t){t.put("src/angular/templates/editor.html",'<div class="stamp-stack-container">\n <!-- {{json | json}} -->\n  <div class="stamp-block-wrapper block-{{$index}} row" data-ng-repeat="block in json.blocks">\n    <stamp-block data="block" block-index="$index" block-count="json.blocks.length" class="clearfix"></stamp-block>\n  </div>\n  <div class="no-config" data-ng-if="!json.blocks || json.blocks.length == 0">Start by adding a block!</div>\n  <div data-ng-if="!locked && !readOnly"><input class="btn btn-default btn-lg btn-block" type="button" value="+ Block" data-ng-click="addBlock()"></div>\n</div>')}])}();